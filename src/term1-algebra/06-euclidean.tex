\begin{definition}
	$A$ --- область целостности, тогда  $A$ называется евклидовым, если  $\exists \varphi\!: A \setminus \{0\} \to \Z_{\ge 0}$, такой что $\forall a, b \in A, b \neq 0\ \exists q, r\!: a=bq+r$, причем  $\varphi(r) < \varphi(b) \lor r = 0$
\end{definition}
\begin{example}
    $\Z$ --- евклидово.  $\varphi(x) = |x|$.
\end{example}
\begin{example}
    $K$ --- поле.  $K[x]$ --- $\varphi(f) = \deg f$
\end{example}
\begin{example}
    $\Z[\sqrt{2}]$ --- евклидово. $\Z[\sqrt{5}]$ --- неевклидово.
\end{example}

\begin{definition}
    $A$ --- область главных идеалов, если  $A$ --- кольцо без делителей нуля, в котором все идеалы главные.
\end{definition}
\begin{theorem}
    Любое евклидово кольцо --- область главных идеалов.
\end{theorem}
\begin{proof}
    Пусть $I$ --- идеал в  $A$,  $A$ --- евклидово. Рассмотрим  $\varphi(I) = \{\varphi(x) \mid x\in I\} \subset \Z_{\ge 0}$. Значит в $\varphi(I) \exists$ минимальный элемент $m$ в  $\varphi(I)$.  

    Найдем $a \in I$, такое, что  $\varphi(a) = m$. 

    Заметим, что  $\langle a \rangle \subset I$ --- очевидно (любой идеал порожденный элементов идеала в нем лежит).

    $I \subset \langle a \rangle$: пусть $b \in I, b = a \cdot q + r, \varphi(r) < \varphi(a)$. При этом $\varphi(a)$ --- минимальный, значит  $r = 0$, значит  $r = b - a \cdot q \iff \cdot q = b \Rightarrow b \in I$.
\end{proof}
\slashn
Евклидово $\Rightarrow$ ОГИ  $\Rightarrow$ ОТА.
\begin{remark}
    Пример не кольца главных идеалов. $\Z[x] = A$ --- не область главных идеалов. Рассмотрим  $I = \{f \mid f(0) \divby 2\}$ --- не главный.  $I = \langle 2, x \rangle$.    
\end{remark}
\begin{definition}
    $R$ --- кольцо,  $a, b \in R$,  $a$ --- ассоциирован с  $b$ ($a \sim b$), если $a \divby b \divby b \divby a$.
\end{definition}
\begin{remark}
    Ассоциированость --- оношение эквивалентности.
\end{remark}
\begin{example}
    $R= \Z$, тогда  $a \sim b \iff a = \pm b$.
\end{example}
\begin{lemma}
    $a \sim b \iff a = b \cdot \varepsilon$, где  $\varepsilon \in A^*$.
\end{lemma}
\begin{proof}
    \slashn
    \begin{itemize}
        \item  $\Rightarrow$.  $a \sim b \Rightarrow a \divby b \land b \divby a \Rightarrow a = b \varepsilon \land b \divby b \varepsilon$. Тогда $b = (b \varepsilon) \cdot \varepsilon_1 = b (\varepsilon \cdot \varepsilon_1)$
        \item $\Leftarrow$.  $a = b \varepsilon$. То есть  $\exists \varepsilon_1: \varepsilon \varepsilon_1 = 1 \Rightarrow a \varepsilon_1 = b \varepsilon \varepsilon_1 = b$. А значит следует делимость.
    \end{itemize}
\end{proof}
\begin{definition}
    $A$ --- область.  $p \in A$,  $p$ --- неприводимый, если 
     \begin{enumerate}
         \item $p \not \in A^*$.
         \item  $p = p_1 \cdot p_2 \Rightarrow p_i \in A^* \land p_{3-i} \sim p$
    \end{enumerate}
\end{definition}
\begin{theorem}[О. Т. А для произв. областей целостности]
    $A$ --- область целостности. Любой  $a \in A$,  $a \neq 0$ раскладывается в произведение неприводимых множителей единственным образом, с точностью до перестановки множителей и ассоциативности:  \[
        p_1p_2\ldots p_n = q_1 \ldots q_m,\ p_i, q_i\ \text{--- неприводимые}
    .\] Следует, что $n= m\ \exists\ \text{перестановка} i_1, i_2, \ldots, i_n\!: p_k \sim q_{i_k}$.
\end{theorem}
\begin{definition}
    Кольца, для которых выполнена О.Т.А называется факториальными. 
\end{definition}
\begin{theorem}
    Любая область главных идеалов --- факториальна, в том числе любое евклидово кольцо факториально. А вот в обратную сторону не всегда верно.
\end{theorem}
\begin{proof}
    Антипов так сказал!
\end{proof}
\slashn
$K$ --- поле.$K[x]$ --- евклидово (знаем) $\Rightarrow$ ОГИ  $\Rightarrow$ факториально. Что значит  $f \sim g$ в  $K[x]$?

$f \sim g \Rightarrow f = g\varepsilon\ \varepsilon\ (K[x])^*$
 \begin{lemma}
     $(K[x])^* = K^* = K \ \{0\}$
\end{lemma}
\begin{proof}
    $a \in K^*\ \exists a^{-1} \in K^*$.  $a a^{-1} = 1$ в  $K[x]$.  $a \in K[x]^*$ $f \in K[x]^* \Rightarrow f \widetilde{f} = 1$.  $\deg (f \widetilde{f}) = \deg(r) = 0$. При этом  $\deg (f) + \deg(\widetilde{f}) \Rightarrow \deg(f) = 0, f \in K^*$.

    Значит $f \widetilde g \iff f = kg, k \in K^*$.
\end{proof}
\slashn
Итого: любой $f \in K[x]$ раскладывается на неприводимые множители однозначно с точностью до перестановки множителей и вынесения констант.
 \begin{consequence}
     $f, g \in K[x]$  $f$ и  $g$ имеют общие корни  $\Rightarrow (f, g) \neq 1$. Все общие корни  $f$ и  $g$ делители  $(f, g)$
\end{consequence}
\begin{definition}
    $a, b \in A$ --- область целостности.  $d$ --- НОД $(a, b)$ если
    \begin{enumerate}
        \item $a \divby d$
        \item  $b \divby d$
        \item  $a \divby d_1, b \divby d_1 \Rightarrow d \divby d_1$.
    \end{enumerate}
\end{definition}
\begin{statement}
    Если НОД существует, то он единственный с точностью до ассоциированности.
\end{statement}
\begin{proof}
    $d \sim d_1$,  $d$ --- НОД $(a,b)$.  $a \divby d, b \divby d \Rightarrow a \divby d_1, b \divby d_1, d \divby d_1$. $a \divby d_2, b \divby d_2 \Rightarrow d  \divby d_2, d_1 \divby d \Rightarrow d_1 \divby d_2$. 

    А значит $d_1$ --- НОД(a, b).

    Обратно: $d$ и $d_1$ НОДЫ $\Rightarrow a \divby d, b \divby d \Rightarrow d_1 \divby d$, так как  $d_1$ --- НОД. Тоже самое для $d$, получаем, что  $d \sim d_1$.
\end{proof}

А сейчас начинается кусок с лекции 29 ноября.
\begin{statement}
    $R$ --- ОГИ.  $\forall a, b \in R \  \exists d = (a, b)$ и  $\exists\!\  x, y \in R: d = ax+by$.
\end{statement}
\begin{proof}
    Доказывается по аналогии с доказательством для целых чисел с самой первой лекции.
\end{proof}
\begin{statement}
    $ab \divby c\ (a, c) = 1 \Rightarrow b \divby c$.
\end{statement}
\begin{proof}
    Смотри первую лекцию.
\end{proof}
\begin{definition}
    $p \in R$ --- простой элемент ($R$ --- область целостности), если $\forall a,b \in R\ ab \divby p \Rightarrow a \divby p \lor b \divby p$.
\end{definition}
\begin{definition}
    $p \in R$ неприводимый, если  $p=p_1p_2 \Rightarrow p \sim p_1 \lor p \sim p_2$.
\end{definition}
\begin{statement}
    $R$ --- Область целостности, $a$ --- простой  $\Rightarrow$  $a$ --- неприводимый.
\end{statement}
\begin{proof}
	Пусть $a$ --- простой.  $a = p_1 p_2$. Тогда $p_1 p_2 \divby a \Rightarrow p_1 \divby a \lor p_2 \divby a$.  Не умаляя общности $p_1 \divby a \land a \divby p_1 \Rightarrow a \sim p_1$. 
\end{proof}

\begin{statement}
     $R$ --- Область Главных Идеалов  $a$ --- неприводим  $\Rightarrow a$ --- простое.
\end{statement}
\begin{proof}
	Пусть $R$ --- ОГИ,  $a$ --- неприводим. Пусть $b \cdot c \divby a$, рассмотрим $d = (a, b)$. $a$ --- неприводим, $a \divby d \Rightarrow$ $d \sim a \lor d \sim 1 (d \in R^*)$. Если $d \sim 1$, то $(a, b) = 1 \land b c \divby a \Rightarrow$ $c \divby a$. А если $d \sim a$, то $b \divby d \to b \divby a$
\end{proof}

\begin{proof}
\textbf{Основной Теоремы Арифметики для Областей Главных Идеалов} 
    Единственность: пусть $p_1p_2\ldots p_k =q_1 \ldots q_l$, где $p_i$ --- неприводимое,  $q_i$ --- неприводимое. 

    Будем доказывать как в целых числах:  $p_1(p_2\ldots p_k) \divby q_1 \Rightarrow p_1 \vdots q_1 \lor p_2\ldots p_k \divby q_1 \Rightarrow p_1 \divby q_1 \lor p_2 \divby q_2 \ldots$.

     $\exists i\!: p_i \divby q_1$. $p_i$ --- неприводимое $\Rightarrow q_1 \sim 1 \lor q_1 \sim p_1$. $q_1$ --- необратимое, а значит первый вариант невозможен.

     $q_1 = p_i \varepsilon, \varepsilon \in R^*$. $p_1p_2\ldots p_i \ldots p_k = \varepsilon q_2 \ldots q_l$, $R$ --- область целостности.

     $p_1p_2\ldots p_{i-1}p_{i+1}\ldots = (\varepsilon q_2) \ldots q_k$. Аналогично $\exists j \neq i\!: p_j \sim \varepsilon q_2 \sim q_2$ 

     $p_j \varepsilon_2 q_2$ сократим. Получили однозначное соответствие. 


     Существование!
     \begin{lemma}
    $R$ --- ОГИ,  $x_1,x_2,\ldots$ $x_i \in R$.  $\forall i\ x_i \divby x_{i+1}$. Тогда существует  $N\!: \forall i > n$  $x_i \sim x_{i+1}$, то есть  $x_{i+1} = x_i \varepsilon_i, \varepsilon_i \in R^*$. 
    \end{lemma}
    \begin{proof}
        $a \divby b \iff \langle a \rangle \subset \langle b \rangle$. Тогда  $\langle x_1 \rangle \subseteq \langle x_2 \rangle \subseteq \ldots$

        Рассмотрим $I = \bigcup \langle x_i\rangle$.

        $I$ --- идеал. Проверим сумму (домножение аналогично),  $a, b \in I \Rightarrow \exists m\!: a \in \langle x_m \rangle, n\!: b \in \langle x_n \rangle \Rightarrow a, b\ in \langle x_{\max(n, m)} \rangle \Rightarrow a + b \in \langle x_{\max(n, m)} \rangle \Rightarrow a + b \in I$.

        $I$ --- идеал  $R$ --- ОГИ.  $\exists x\!: I = \langle x \rangle$. При этом $x \in \langle x_m \rangle$ для  $m > m_0$.

        $\forall m > m_0: x \divby x_m \land x_m \divby x$, так как $x_m \in I$, а  $\langle x \rangle = I$. Тогда  $x_m \sim x \sim x_n\ \forall m, n > m_0\!: x_m \sim x_n$
    \end{proof}
    \begin{consequence}
        $\forall x \in R, x \not \in R^*,  \exists p$ --- неприводимый:  $x \divby p$.
    \end{consequence}
    \begin{proof}
        Пусть не так:
        \begin{enumerate}
            \item $x$ --- не приводимый  $\Rightarrow x = x_1x_2, x_i \not \in R^*$.
            \item $x_2 = x_3 \cdot x_4$, $x_3, x_4 \not \in R^*$. Тогда получается $x \divby x_2 \divby x_3 \divby \ldots$ никакие два элемента не ассоциированы. Этого не может быть по лемме. 
        \end{enumerate}

        Окончание доказательства: $x \in R$  $x \neq 0$.  $x = p_1 x_1$, $p_1$ неприводимо, $x_1 = p_2x_2$ \ldots $x \divby x_1 \divby x_2 \divby \ldots$ --- получили цепочку. По доказанной лемме данная цепочка бесконечной быть не может, а значит $\exists i : x_i \in R^*$ $\Rightarrow$ $x=p_1 p_2 \cdots p_k \cdot \varepsilon$, ура, разложили.
    \end{proof}
\end{proof}
